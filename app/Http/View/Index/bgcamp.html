<!DOCTYPE html>
<html>
<head>
    <title>指南者文献综述打卡营</title>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="/public/static/index/CSS/mui.min.css">
    <script type="text/javascript" src="/public/static/index/JS/mui.min.js"></script>
    <style type="text/css">
        html, body {
            /*overflow: hidden;*/
            min-height: 100%;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }

        .tab-wrapper {
            display: flex;
            flex-wrap: nowrap;
        }

        img {
            width: 100%;
            vertical-align: middle;
            display: block;
        }

        div.contact {
            position: fixed;
            bottom: 0rem;
            left: 0rem;
            /*z-index: 1;*/
        }

        /*		div.content{
                    overflow: scroll;
                }
                div.content::-webkit-scrollbar {
                    display: none;
                } */
    </style>
    <script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script type='text/javascript' src="/public/static/index/JS/clipboard.min.js"></script>

</head>
<body>
<div class='overall' id='overall'>
    <div class="pic1">
        <img class='pic1' id='pic1' src="/public/static/source/1.jpg">
    </div>
    <div class="tab-wrapper" id='tab-wrapper'>
        <div class='tab1-1' id='tab1-1' style="display: none" onclick="changeContent(1)"><img
            src="/public/static/source/tab1-1.jpg"></div>
        <div class='tab1-2' id='tab1-2'><img src="/public/static/source/tab1-2.jpg"></div>
        <div class='tab2-1' id='tab2-1' onclick="changeContent(2)"><img src="/public/static/source/tab2-1.jpg"></div>
        <div class='tab2-2' id='tab2-2' style="display: none"><img src="/public/static/source/tab2-2.jpg"></div>
        <div class='tab3-1' id='tab3-1' onclick="changeContent(3)"><img src="/public/static/source/tab3-1.jpg"></div>
        <div class='tab3-2' id='tab3-2' style="display: none" onclick="changeContent(3)"><img
            src="/public/static/source/tab3-2.jpg"></div>
    </div>
    <div class="content-wrapper" id='content-wrapper'>
        <div class='content' id='content-1'>
            <img src="/public/static/source/2-1@2x-1.jpg">
            <img src="/public/static/source/2-1@2x-2.jpg">
        </div>
        <div class='content' id='content-2' style="display: none">
            <img src="/public/static/source/2-2@2x.jpg">
        </div>
        <div class='content' id='content-3' style="display: none">
            <img src="/public/static/source/2-3@2x.jpg">
        </div>
    </div>
    <div class='contact' data-clipboard-text="znz558">
        <img id='btn' src="/public/static/source/btn.jpg">
    </div>
</div>
</body>
<script type="text/javascript">
    var touch_num = 1;

    function changeContent(num) {
        switch (num) {
            //-1为未选中，-2为已选中
            case 1:
                //内容1
                touch_num = 1
                $('#content-1').show();
                $('#content-2').hide();
                $('#content-3').hide();
                //tap1选中
                $('#tab1-1').hide();
                $('#tab1-2').show();
                $('#tab2-1').show();
                $('#tab2-2').hide();
                $('#tab3-1').show();
                $('#tab3-2').hide();
                break;
            case 2:
                //内容2
                touch_num = 2
                $('#content-1').hide();
                $('#content-2').show();
                $('#content-3').hide();
                //tap2选中
                $('#tab1-1').show();
                $('#tab1-2').hide();
                $('#tab2-1').hide();
                $('#tab2-2').show();
                $('#tab3-1').show();
                $('#tab3-2').hide();
                break;
            case 3:
                //内容3
                touch_num = 3
                $('#content-1').hide();
                $('#content-2').hide();
                $('#content-3').show();
                //tap3选中
                $('#tab1-1').show();
                $('#tab1-2').hide();
                $('#tab2-1').show();
                $('#tab2-2').hide();
                $('#tab3-1').hide();
                $('#tab3-2').show();
                break;
        }
    }

    //左右滑动
    $('body').on('touchstart', '.overall', function (e) {
        var touch = e.originalEvent;
        startX = e.originalEvent.changedTouches[0].pageX;
        startY = e.originalEvent.changedTouches[0].pageY;
        $(".overall").on('touchmove', function (e) {
            e.preventDefault();
            touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
            if (touch.pageX - startX > 10) {
                touch_num = touch_num < 2 ? 3 : touch_num - 1;
                changeContent(touch_num);
                // alert("左划");
            } else if (touch.pageX - startX < -10) {
                touch_num = touch_num > 2 ? 1 : touch_num + 1;
                changeContent(touch_num);
                // alert("右划");
            }
            ;
            $(".overall").off('touchmove');
        });
        return false;
    }).on('touchend', function () {
        $(".overall").off('touchmove');
    })

    $('#btn').click(function () {
        mui.confirm('请添加微信：znz558<br/>开课当天将统一拉群', '已复制课程顾问微信', ['取消', '打开微信'], function (e) {
            if (e.index == 1) {
                window.location.href = "weixin://";
            } else {
            }
        }, 'div');
    });

    //点击空白关闭
    mui('body').on('tap', '.mui-popup-backdrop', function () {
        mui.closePopup();
    });
    //自动复制
    var clipboard = new ClipboardJS('.contact');
    clipboard.on('success', function (e) {
        //清除选中状态。
        e.clearSelection();
        //复制成功
    });
    clipboard.on('error', function (e) {
        //复制失败
    });

    window.addEventListener('scroll', () => {
        var campBannerEle = document.querySelector('.tab-wrapper')
        var picEle = document.querySelector('.pic1')
        var scrollTop =
            document.documentElement.scrollTop || document.body.scrollTop
        if (scrollTop >= campBannerEle.clientHeight + picEle.clientHeight) {
            campBannerEle.style.position = 'fixed'
            campBannerEle.style.top = '0'
            campBannerEle.style.zIndex = '600'
        } else {
            campBannerEle.style.position = 'relative'
            // document.querySelector('.camp__tab--empty').style.display = 'none'
        }
    })


</script>
</html>
